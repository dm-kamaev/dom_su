webpackJsonp([0],{"0cqS":function(n,r,t){"use strict";var e=t("Xxa5"),o=t.n(e),a=t("exGp"),i=t.n(a),A=t("Dd8w"),p=t.n(A),s=t("NYxO"),d=t("T3J8"),l=(t("IcnI"),t("uEUq")),c=t("BMSt");t("pRBY");r.a={name:"AuthorzationForm",components:{Loader:c.default,InputMask:l.a},data:function(){return{codeSent:!1,codeLoading:!1,codeErrorCode:null,phone:"",authLoading:!1,authErrorCode:"",authEmployee:!1,code:""}},methods:p()({},Object(s.b)(["signIn","setCookies","defineError"]),{getCodeHandler:function(){var n=this;return i()(o.a.mark(function r(){var t,e;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.codeLoading=!0,r.prev=1,r.next=4,d.a.auth.getCode(n.phone);case 4:t=r.sent,e=t.result,e?(n.codeLoading=!1,n.codeErrorCode=null,n.codeSent=!0):n.codeLoading=!1,r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),n.codeLoading=!1,n.defineError({error:r.t0,name:"getCode"});case 13:case"end":return r.stop()}},r,n,[[1,9]])}))()},loginHandler:function(){var n=this;return i()(o.a.mark(function r(){var t,e,a,i;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.authLoading=!0,r.prev=1,r.next=4,d.a.auth.login(n.phone,n.code);case 4:t=r.sent,e=t.clientId,a=t.employeeId,i=t.cookies,n.authLoading=!1,e&&(n.signIn(),n.$emit("authFinish")),r.next=17;break;case 12:r.prev=12,r.t0=r.catch(1),n.authLoading=!1,n.authErrorCode=!0,n.defineError({error:r.t0,name:"login"});case 17:case"end":return r.stop()}},r,n,[[1,12]])}))()}})}},"2/BM":function(n,r,t){"use strict";var e=function(){var n=this,r=n.$createElement,t=n._self._c||r;return t("form",{staticClass:"worker-application",on:{submit:function(n){n.preventDefault()}}},[n.showSuccessWindow?t("p",{staticClass:"worker-application__success"},[n._v("Спасибо за завку. Мы свяжемся с вами в ближайшее время.")]):[t("h3",{staticClass:"worker-application__title  title"},[n._v("Заполните заявку")]),n._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:n.name.value,expression:"name.value"}],staticClass:"worker-application__input  input",class:{"worker-application__input--invalid":!n.name.valid},attrs:{type:"text",name:"name",placeholder:"ФИО"},domProps:{value:n.name.value},on:{input:[function(r){r.target.composing||n.$set(n.name,"value",r.target.value)},function(r){n.change(n.name)}]}}),n._v(" "),t("input-mask",{ref:"input",staticClass:"worker-application__input  input",class:{"worker-application__input--invalid":!n.phone.valid},attrs:{placeholder:"Телефон"},on:{input:function(r){n.change(n.phone)}},model:{value:n.phone.value,callback:function(r){n.$set(n.phone,"value",r)},expression:"phone.value"}}),n._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:n.citizenship.value,expression:"citizenship.value"}],staticClass:"worker-application__input  input",class:{"worker-application__input--invalid":!n.citizenship.valid},attrs:{type:"text",name:"citizenship",placeholder:"Граждаство"},domProps:{value:n.citizenship.value},on:{input:[function(r){r.target.composing||n.$set(n.citizenship,"value",r.target.value)},function(r){n.change(n.citizenship)}]}}),n._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:n.birthdate.value,expression:"birthdate.value"}],staticClass:"worker-application__input  input",class:{"worker-application__input--invalid":!n.birthdate.valid},attrs:{type:"number",name:"birthdate",placeholder:"Год рождения"},domProps:{value:n.birthdate.value},on:{input:[function(r){r.target.composing||n.$set(n.birthdate,"value",r.target.value)},function(r){n.change(n.birthdate)}]}}),n._v(" "),n.sendFormError?t("p",{staticClass:"worker-application__error"},[n._v("Ошибка, повторите попытку позднее")]):n._e(),n._v(" "),t("button",{ref:"button",staticClass:"worker-application__button  button",attrs:{type:"button"},on:{click:n.submit}},[n.sendFormLoading?[n._v("Отправка...")]:[n._v("Оставить заявку")]],2)]],2)},o=[];e._withStripped=!0;var a={render:e,staticRenderFns:o};r.a=a},"98uU":function(n,r,t){"use strict";function e(n){i||t("WbWb")}Object.defineProperty(r,"__esModule",{value:!0});var o=t("0cqS"),a=t("wtL1"),i=!1,A=t("VU/8"),p=e,s=A(o.a,a.a,!1,p,"data-v-77d53fbe",null);s.options.__file="src\\site\\components\\Authorization\\AuthorizationForm.vue",s.esModule&&Object.keys(s.esModule).some(function(n){return"default"!==n&&"__"!==n.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.default=s.exports},MUSu:function(n,r,t){"use strict";var e=t("Xxa5"),o=t.n(e),a=t("exGp"),i=t.n(a),A=t("Dd8w"),p=t.n(A),s=t("NYxO"),d=t("T3J8"),l=t("Lncs"),c=t("uEUq");r.a={name:"WorkerApplication",components:{InputMask:c.a},data:function(){return{name:{valid:!0,value:""},birthdate:{valid:!0,value:""},citizenship:{valid:!0,value:""},phone:{valid:!0,value:""},sendFormLoading:!1,sendFormError:!1,showSuccessWindow:!1}},methods:p()({},Object(s.b)(["defineError"]),{validate:function(){var n=!0;return""===this.name.value&&(this.name.valid=!1,n=!1),""!==this.birthdate.value&&4===this.birthdate.value.length&&Number(this.birthdate.value)<1995||(this.birthdate.valid=!1,n=!1),""===this.citizenship.value&&(this.citizenship.valid=!1,n=!1),""!==this.phone.value&&-1===this.phone.value.search("_")||(this.phone.valid=!1,n=!1),n},submit:function(){var n=this;return i()(o.a.mark(function r(){var t,e,a;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n.validate()){r.next=18;break}return n.sendFormLoading=!0,t={contact:n.phone.value,name:n.name.value,citizenship:n.citizenship.value,birthdate:n.birthdate.value},r.prev=3,r.next=6,d.a.common.sendApplicationWorker(t);case 6:e=r.sent,a=e.success,a&&(n.showSuccessWindow=!0,l.a.sendEvent({name:"form",value:"applicant_cleaner",ga_action:"send"},["ga","af","fb"])),r.next=16;break;case 11:r.prev=11,r.t0=r.catch(3),n.sendFormLoading=!1,n.sendFormError=!0,n.defineError({error:r.t0,name:"sendApplicationWorker"});case 16:r.next=19;break;case 18:n.$refs.button.disabled=!0;case 19:case"end":return r.stop()}},r,n,[[3,11]])}))()},change:function(n){n.valid=!0,this.$refs.button.disabled=!1}})}},NrH0:function(n,r,t){r=n.exports=t("FZ+f")(!0),r.push([n.i,".button[data-v-7b6b2f24]{display:block;padding:10px 38px;font-size:14px;color:#fff;border:0;background-color:#fd8204;border-radius:3px;cursor:pointer;-webkit-tap-highlight-color:transparent}.button[data-v-7b6b2f24]:focus{background-color:#ff9113;outline:0}.button[data-v-7b6b2f24]:disabled{opacity:.5}.input[data-v-7b6b2f24]{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;padding:10px 30px;font-size:14px;font-family:Open Sans,Arial,sans-serif;color:#000;border:1px solid #d5cec2;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;-webkit-tap-highlight-color:transparent;-webkit-appearance:none}.input[data-v-7b6b2f24]:focus{color:#000;border-color:#fd8204;outline:0;opacity:1}.input[data-v-7b6b2f24]:focus::-webkit-input-placeholder{color:transparent!important}.input[data-v-7b6b2f24]:focus::-moz-placeholder{color:transparent!important}.input[data-v-7b6b2f24]:focus:-ms-input-placeholder{color:transparent!important}.input[data-v-7b6b2f24]::-webkit-input-placeholder{font-size:14px;font-family:Open Sans,Arial,sans-serif;color:#8e8d8d;opacity:1}.input[data-v-7b6b2f24]::-moz-placeholder{font-size:14px;font-family:Open Sans,Arial,sans-serif;color:#8e8d8d;opacity:1}.input[data-v-7b6b2f24]:-ms-input-placeholder,.input[data-v-7b6b2f24]::-ms-input-placeholder{font-size:14px;font-family:Open Sans,Arial,sans-serif;color:#8e8d8d;opacity:1}.input[data-v-7b6b2f24]::placeholder{font-size:14px;font-family:Open Sans,Arial,sans-serif;color:#8e8d8d;opacity:1}.input[data-v-7b6b2f24] ::-ms-clear{display:none}.worker-application[data-v-7b6b2f24]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;min-height:-webkit-calc(100vh - 90px);min-height:calc(100vh - 90px);max-width:700px;margin:auto}.worker-application__title[data-v-7b6b2f24]{margin-bottom:30px;font-size:18px;line-height:25px;font-weight:400;color:#000}.worker-application__input[data-v-7b6b2f24]{-webkit-box-sizing:border-box;box-sizing:border-box;width:280px;margin-bottom:20px;padding-top:12px;padding-bottom:12px;line-height:20px}.worker-application__input[data-v-7b6b2f24]::-webkit-input-placeholder{color:#888}.worker-application__input[data-v-7b6b2f24]::-moz-placeholder{color:#888}.worker-application__input[data-v-7b6b2f24]:-ms-input-placeholder,.worker-application__input[data-v-7b6b2f24]::-ms-input-placeholder{color:#888}.worker-application__input[data-v-7b6b2f24]::placeholder{color:#888}.worker-application__input--invalid[data-v-7b6b2f24]{border-color:#b72727}.worker-application__button[data-v-7b6b2f24]{width:100%;border-radius:0;margin-top:auto;padding-top:15px;padding-bottom:15px}.worker-application__error[data-v-7b6b2f24]{text-align:center;color:#b72727;margin-bottom:20px;margin-top:-20px}.worker-application__success[data-v-7b6b2f24]{padding:0 30px;text-align:center;color:#000;font-size:18px}@media (min-width:768px){.button[data-v-7b6b2f24]:hover{background-color:#ff9113}.input[data-v-7b6b2f24]:hover{border-color:#fd8204}.worker-application[data-v-7b6b2f24]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;min-height:0}.worker-application__title[data-v-7b6b2f24]{width:100%;margin-bottom:40px;text-align:center;font-size:24px}.worker-application__input[data-v-7b6b2f24]:nth-of-type(2n+2){margin-left:20px}.worker-application__button[data-v-7b6b2f24]{border-radius:3px;width:260px;margin-top:20px}}@media (min-width:1280px){.worker-application[data-v-7b6b2f24]{max-width:830px;margin-left:auto;margin-right:auto}}","",{version:3,sources:["C:/projects/vue-payments/src/css/components/button.css","C:/projects/vue-payments/src/css/components/input.css","C:/projects/vue-payments/src/components/WorkerApplication/src/components/WorkerApplication/index.vue?747339c0"],names:[],mappings:"AAEA,yBACE,cAAe,kBACI,eACH,WACJ,SACC,yBAC+B,kBACzB,eACH,uCACgC,CAgBjD,AAdC,+BACE,yBAAsC,SACxB,CACf,AAQD,kCACE,UAAa,CACd,ACxBH,wBACE,8BAAA,sBAAuB,WACX,kBACO,eACY,uCACM,WACtB,yBACW,kBACP,wBACnB,gBAAiB,wCAC+B,uBACvB,CAyC1B,AAjCC,8BACE,WAAe,qBACyB,UAC1B,SACH,CACZ,AAED,yDACE,2BAA8B,CAC/B,AAMD,gDACE,2BAA8B,CAC/B,AAED,oDACE,2BAA8B,CAC/B,AAED,mDACE,eAA+B,uCACM,cACtB,SACJ,CACZ,AALD,0CACE,eAA+B,uCACM,cACtB,SACJ,CACZ,AALD,6FACE,eAA+B,uCACM,cACtB,SACJ,CACZ,AALD,qCACE,eAA+B,uCACM,cACtB,SACJ,CACZ,AAED,oCACE,YAAc,CACf,ACsFH,qCACA,oBAAA,qBAAA,aAAA,4BACA,6BAAA,8BAAA,sBAAA,yBACA,2BAAA,mBAAA,sCACA,8BAAA,gBACA,WACA,CAiFA,AAlEA,4CACA,mBAAA,eACA,iBACA,gBACA,UACA,CAQA,AAEA,4CACA,8BAAA,sBAAA,YACA,mBACA,iBACA,oBACA,gBACA,CAgBA,AAdA,uEACA,UAAA,CACA,AAFA,8DACA,UAAA,CACA,AAFA,qIACA,UAAA,CACA,AAFA,yDACA,UAAA,CACA,AASA,qDACA,oBAAA,CACA,AAGA,6CACA,WAAA,gBACA,gBACA,iBACA,mBACA,CAOA,AAEA,4CACA,kBAAA,cACA,mBACA,gBACA,CACA,AAEA,8CACA,eAAA,kBACA,WACA,cACA,CACA,AF9MI,yBADF,+BAEI,wBAAsC,CAEzC,ACPD,8BAEI,oBAAwC,CAE3C,ACwHH,qCASA,8BAAA,6BAAA,2BAAA,mBAAA,uBACA,eAAA,wBACA,+BAAA,uBAAA,YACA,CA2EA,AAlEA,4CAQA,WAAA,mBACA,kBACA,cACA,CAEA,AAcA,8DAGA,gBAAA,CAEA,AAOA,6CAQA,kBAAA,YACA,eACA,CAEA,CF9LK,AEqIL,0BAfA,qCAgBA,gBAAA,iBACA,iBACA,CAqEA,CApEA",file:"index.vue",sourcesContent:['@import "./../variables.css";\r\n\r\n.button {\r\n  display: block;\r\n  padding: 10px 38px;\r\n  font-size: 14px;\r\n  color: #fff;\r\n  border: none;\r\n  background-color: var(--brand-color-orange);\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n  -webkit-tap-highlight-color: rgba(200, 0, 0, 0);\r\n\r\n  &:focus {\r\n    background-color: var(--button-hover);\r\n    outline: none;\r\n  }\r\n\r\n  &:hover {\r\n    @media (--tablet) {\r\n      background-color: var(--button-hover);\r\n    }\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.5;\r\n  }\r\n}\r\n','@import "./../variables.css";\r\n\r\n.input {\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  padding: 10px 30px;\r\n  font-size: var(--font-size-sm);\r\n  font-family: var(--base-font-family);\r\n  color: #000000;\r\n  border: 1px solid #d5cec2;\r\n  border-radius: 3px;\r\n  box-shadow: none;\r\n  -webkit-tap-highlight-color: rgba(200, 0, 0, 0);\r\n  -webkit-appearance: none;\r\n\r\n  &:hover {\r\n    @media (--tablet) {\r\n      border-color: var(--brand-color-orange);\r\n    }\r\n  }\r\n\r\n  &:focus {\r\n    color: #000000;\r\n    border-color: var(--brand-color-orange);\r\n    outline: none;\r\n    opacity: 1;\r\n  }\r\n\r\n  &:focus::-webkit-input-placeholder {\r\n    color: transparent !important;\r\n  }\r\n\r\n  &:focus:-moz-placeholder {\r\n    color: transparent !important;\r\n  }\r\n\r\n  &:focus::-moz-placeholder {\r\n    color: transparent !important;\r\n  }\r\n\r\n  &:focus:-ms-input-placeholder {\r\n    color: transparent !important;\r\n  }\r\n\r\n  &::placeholder {\r\n    font-size: var(--font-size-sm);\r\n    font-family: var(--base-font-family);\r\n    color: #8e8d8d;\r\n    opacity: 1;\r\n  }\r\n\r\n  ::-ms-clear {\r\n    display: none;\r\n  }\r\n}\r\n','<template>\r\n  <form class="worker-application" @submit.prevent>\r\n\r\n    <template v-if="!showSuccessWindow">\r\n      <h3 class="worker-application__title  title">Заполните заявку</h3>\r\n\r\n      <input class="worker-application__input  input" :class="{\'worker-application__input--invalid\': !name.valid}" type="text" name="name" placeholder="ФИО" v-model="name.value" @input="change(name)">\r\n      <input-mask\r\n        placeholder="Телефон"\r\n        ref="input"\r\n        v-model="phone.value"\r\n        class="worker-application__input  input"\r\n        :class="{\'worker-application__input--invalid\': !phone.valid}"\r\n        @input="change(phone)"\r\n      />\r\n      <input class="worker-application__input  input" :class="{\'worker-application__input--invalid\': !citizenship.valid}" type="text" name="citizenship" placeholder="Граждаство" v-model="citizenship.value" @input="change(citizenship)">\r\n      <input class="worker-application__input  input" :class="{\'worker-application__input--invalid\': !birthdate.valid}" type="number" name="birthdate" placeholder="Год рождения" v-model="birthdate.value" @input="change(birthdate)">\r\n\r\n      <p v-if="sendFormError" class="worker-application__error">Ошибка, повторите попытку позднее</p>\r\n\r\n      <button ref="button" class="worker-application__button  button" type="button" @click="submit">\r\n        <template v-if="sendFormLoading">Отправка...</template>\r\n        <template v-else>Оставить заявку</template>\r\n      </button>\r\n    </template>\r\n\r\n    <p v-else class="worker-application__success">Спасибо за завку. Мы свяжемся с вами в ближайшее время.</p>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\n  import { mapState, mapActions, mapMutations, mapGetters } from \'vuex\'\r\n  import api from \'vue_components/src/api\'\r\n  import analytic from \'@/store/common/analytic\'\r\n\r\n  import InputMask from \'@/components/common/InputMask\'\r\n\r\n\texport default {\r\n\t\tname: \'WorkerApplication\',\r\n\r\n    components: {\r\n      InputMask\r\n    },\r\n\r\n\t\tdata: () => ({\r\n      name: {\r\n        valid: true,\r\n        value: \'\'\r\n      },\r\n      birthdate: {\r\n        valid: true,\r\n        value: \'\'\r\n      },\r\n      citizenship: {\r\n        valid: true,\r\n        value: \'\'\r\n      },\r\n      phone: {\r\n        valid: true,\r\n        value: \'\'\r\n      },\r\n      sendFormLoading: false,\r\n      sendFormError: false,\r\n      showSuccessWindow: false\r\n    }),\r\n\r\n\t\tmethods: {\r\n      ...mapActions([\'defineError\']),\r\n\r\n      validate() {\r\n        let valid = true;\r\n\r\n        if (this.name.value === \'\') {\r\n          this.name.valid = false\r\n          valid = false;\r\n        }\r\n\r\n        if (this.birthdate.value === \'\' || this.birthdate.value.length !== 4 || !(Number(this.birthdate.value) < 1995)) {\r\n          this.birthdate.valid = false\r\n          valid = false;\r\n        }\r\n\r\n        if (this.citizenship.value === \'\') {\r\n          this.citizenship.valid = false\r\n          valid = false;\r\n        }\r\n\r\n        if (this.phone.value === \'\' || this.phone.value.search(\'_\') !== -1) {\r\n          this.phone.valid = false\r\n          valid = false;\r\n        }\r\n\r\n        return valid;\r\n      },\r\n\r\n\t\t  async submit() {\r\n        if (this.validate()) {\r\n          this.sendFormLoading = true\r\n\r\n          const param = {\r\n            contact: this.phone.value,\r\n            name: this.name.value,\r\n            citizenship: this.citizenship.value,\r\n            birthdate: this.birthdate.value\r\n          }\r\n\r\n          try {\r\n            const { success } = await api.common.sendApplicationWorker(param)\r\n\r\n            if (success) {\r\n              this.showSuccessWindow = true\r\n              analytic.sendEvent({name: "form", value: "applicant_cleaner", ga_action: "send"}, [\'ga\', \'af\', \'fb\']);\r\n            }\r\n          } catch (error) {\r\n            this.sendFormLoading = false\r\n            this.sendFormError = true\r\n\r\n            this.defineError({\r\n              error: error,\r\n              name: \'sendApplicationWorker\'\r\n            })\r\n          }\r\n        } else {\r\n          this.$refs.button.disabled = true\r\n        }\r\n      },\r\n\r\n      change(item) {\r\n        item.valid = true\r\n        this.$refs.button.disabled = false\r\n      },\r\n    }\r\n\t}\r\n<\/script>\r\n<style scoped>\r\n  @import "../../css/variables.css";\r\n  @import "../../css/components/button.css";\r\n  @import "../../css/components/input.css";\r\n\r\n  .worker-application {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    min-height: calc(100vh - 90px);\r\n    max-width: 700px;\r\n    margin: auto;\r\n\r\n    @media (--tablet) {\r\n      flex-direction: row;\r\n      flex-wrap: wrap;\r\n      justify-content: center;\r\n      min-height: 0;\r\n    }\r\n\r\n    @media (--desktop) {\r\n      max-width: 830px;\r\n      margin-left: auto;\r\n      margin-right: auto;\r\n    }\r\n\r\n    &__title {\r\n      margin-bottom: 30px;\r\n      font-size: 18px;\r\n      line-height: 25px;\r\n      font-weight: 400;\r\n      color: #000000;\r\n\r\n      @media (--tablet) {\r\n        width: 100%;\r\n        margin-bottom: 40px;\r\n        text-align: center;\r\n        font-size: 24px;\r\n      }\r\n    }\r\n\r\n    &__input {\r\n      box-sizing: border-box;\r\n      width: 280px;\r\n      margin-bottom: 20px;\r\n      padding-top: 12px;\r\n      padding-bottom: 12px;\r\n      line-height: 20px;\r\n\r\n      &::placeholder {\r\n        color: #888888;\r\n      }\r\n\r\n      &:nth-of-type(2n+2) {\r\n\r\n        @media (--tablet) {\r\n          margin-left: 20px;\r\n        }\r\n      }\r\n\r\n      &--invalid {\r\n        border-color: var(--color-red);\r\n      }\r\n    }\r\n\r\n    &__button {\r\n      width: 100%;\r\n      border-radius: 0;\r\n      margin-top: auto;\r\n      padding-top: 15px;\r\n      padding-bottom: 15px;\r\n\r\n      @media (--tablet) {\r\n        border-radius: 3px;\r\n        width: 260px;\r\n        margin-top: 20px;\r\n      }\r\n    }\r\n\r\n    &__error {\r\n      text-align: center;\r\n      color: var(--color-red);\r\n      margin-bottom: 20px;\r\n      margin-top: -20px;\r\n    }\r\n\r\n    &__success {\r\n      padding: 0 30px;\r\n      text-align: center;\r\n      color: #000;\r\n      font-size: 18px;\r\n    }\r\n  }\r\n</style>\r\n'],sourceRoot:""}])},PuQA:function(n,r,t){r=n.exports=t("FZ+f")(!0),r.push([n.i,".button[data-v-77d53fbe]{display:block;padding:10px 38px;font-size:14px;color:#fff;border:0;background-color:#ff5a19;border-radius:3px;cursor:pointer;-webkit-tap-highlight-color:transparent}.button[data-v-77d53fbe]:focus{background-color:#ff9113;outline:0}.button[data-v-77d53fbe]:disabled{opacity:.5}.input[data-v-77d53fbe]{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;padding:10px 30px;font-size:14px;font-family:Open Sans,Arial,sans-serif;color:#000;border:1px solid #d5cec2;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;-webkit-tap-highlight-color:transparent;-webkit-appearance:none}.input[data-v-77d53fbe]:focus{color:#000;border-color:#fd8204;outline:0;opacity:1}.input[data-v-77d53fbe]:focus::-webkit-input-placeholder{color:transparent!important}.input[data-v-77d53fbe]:focus::-moz-placeholder{color:transparent!important}.input[data-v-77d53fbe]:focus:-ms-input-placeholder{color:transparent!important}.input[data-v-77d53fbe]::-webkit-input-placeholder{font-size:14px;font-family:Open Sans,Arial,sans-serif;color:#8e8d8d;opacity:1}.input[data-v-77d53fbe]::-moz-placeholder{font-size:14px;font-family:Open Sans,Arial,sans-serif;color:#8e8d8d;opacity:1}.input[data-v-77d53fbe]:-ms-input-placeholder,.input[data-v-77d53fbe]::-ms-input-placeholder{font-size:14px;font-family:Open Sans,Arial,sans-serif;color:#8e8d8d;opacity:1}.input[data-v-77d53fbe]::placeholder{font-size:14px;font-family:Open Sans,Arial,sans-serif;color:#8e8d8d;opacity:1}.input[data-v-77d53fbe] ::-ms-clear{display:none}.authorization[data-v-77d53fbe]{padding-top:90px}.authorization--hide[data-v-77d53fbe]{display:none}.authorization__form[data-v-77d53fbe]{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;max-width:375px;margin:auto;padding:30px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.authorization__title[data-v-77d53fbe]{position:absolute;top:10px;right:0;width:70%;font-weight:700;font-size:18px}.authorization__title span[data-v-77d53fbe]{color:var(--new-text-color-orange)}.authorization__heading[data-v-77d53fbe]{margin-bottom:0;text-align:center;font-size:18px;font-weight:400;color:#353535}.authorization__text[data-v-77d53fbe]{position:absolute;top:40px;right:0;width:70%;font-weight:700}.authorization__input[data-v-77d53fbe]{padding-top:15px;padding-bottom:15px;border-color:#cbc9c9;text-align:center;color:#353535}.authorization__input[data-v-77d53fbe]:focus{border-color:#ff5a19}.authorization[data-v-77d53fbe]::-webkit-input-placeholder{color:#353535}.authorization[data-v-77d53fbe]::-moz-placeholder{color:#353535}.authorization[data-v-77d53fbe]:-ms-input-placeholder,.authorization[data-v-77d53fbe]::-ms-input-placeholder{color:#353535}.authorization[data-v-77d53fbe]::placeholder{color:#353535}.authorization__button[data-v-77d53fbe]{width:100%;margin-top:10px;padding-top:15px;padding-bottom:15px;background-color:#ff5a19}.authorization__link[data-v-77d53fbe]{position:fixed;bottom:30px;width:100%;left:0;text-align:center;font-size:14px;line-height:19px;text-decoration:underline;color:#353535;cursor:pointer}.authorization__note[data-v-77d53fbe]{margin-top:10px;font-size:12px;text-align:center;color:red}@media (min-width:768px){.button[data-v-77d53fbe]:hover{background-color:#ff9113}.input[data-v-77d53fbe]:hover{border-color:#fd8204}.authorization[data-v-77d53fbe]{padding-top:110px}.authorization__form[data-v-77d53fbe]{width:370px}.authorization__heading[data-v-77d53fbe]{font-size:21px}.authorization__button[data-v-77d53fbe]{font-size:16px}.authorization__button[data-v-77d53fbe]:focus,.authorization__button[data-v-77d53fbe]:hover{background-color:#ff7623}.authorization__button[data-v-77d53fbe]:active{background-color:#ff5a19}.authorization__link[data-v-77d53fbe]{margin-top:40px}}@media (min-width:1280px){.authorization[data-v-77d53fbe]{padding-top:150px}.authorization__heading[data-v-77d53fbe]{font-size:24px}}","",{version:3,sources:["C:/projects/vue-payments/src/site/css/components/button.css","C:/projects/vue-payments/src/site/css/components/input.css","C:/projects/vue-payments/src/site/components/Authorization/src/site/components/Authorization/AuthorizationForm.vue?47b1e232"],names:[],mappings:"AAEA,yBACE,cAAe,kBACI,eACH,WACJ,SACC,yBACa,kBACP,eACH,uCACgC,CAgBjD,AAdC,+BACE,yBAAsC,SACxB,CACf,AAQD,kCACE,UAAa,CACd,ACxBH,wBACE,8BAAA,sBAAuB,WACX,kBACO,eACY,uCACM,WACtB,yBACW,kBACP,wBACnB,gBAAiB,wCAC+B,uBACvB,CAyC1B,AAjCC,8BACE,WAAe,qBACyB,UAC1B,SACH,CACZ,AAED,yDACE,2BAA8B,CAC/B,AAMD,gDACE,2BAA8B,CAC/B,AAED,oDACE,2BAA8B,CAC/B,AAED,mDACE,eAA+B,uCACM,cACtB,SACJ,CACZ,AALD,0CACE,eAA+B,uCACM,cACtB,SACJ,CACZ,AALD,6FACE,eAA+B,uCACM,cACtB,SACJ,CACZ,AALD,qCACE,eAA+B,uCACM,cACtB,SACJ,CACZ,AAED,oCACE,YAAc,CACf,ACqEH,gCACA,gBAAA,CAyIA,AA/HA,sCACA,YAAA,CACA,AAEA,sCACA,8BAAA,sBAAA,WACA,gBACA,YACA,aACA,AAQA,oBAAA,qBAAA,aAAA,4BACA,6BAAA,8BAAA,qBAAA,CAJA,AAOA,uCACA,kBAAA,SACA,QACA,UACA,gBACA,cACA,CAKA,AAHA,4CACA,kCAAA,CACA,AAGA,yCACA,gBAAA,kBACA,eACA,gBACA,aACA,CASA,AAEA,sCACA,kBAAA,SACA,QACA,UACA,eACA,CACA,AAEA,uCACA,iBAAA,oBACA,qBACA,kBACA,aACA,CAKA,AAHA,6CACA,oBAAA,CACA,AAGA,2DACA,aAAA,CACA,AAFA,kDACA,aAAA,CACA,AAFA,6GACA,aAAA,CACA,AAFA,6CACA,aAAA,CACA,AAEA,wCACA,WAAA,gBACA,iBACA,oBACA,wBACA,CAuBA,AAEA,sCACA,eAAA,YACA,WACA,OACA,kBACA,eACA,iBACA,0BACA,cACA,cACA,CAKA,AAEA,sCACA,gBAAA,eACA,kBACA,SACA,CACA,AFhPI,yBADF,+BAEI,wBAAsC,CAEzC,ACPD,8BAEI,oBAAwC,CAE3C,ACuGH,gCAIA,iBAAA,CAsIA,AA3HA,sCAQA,WAAA,CAEA,AAoBA,yCAQA,cAAA,CAMA,AA0BA,wCAQA,cAAA,CAoBA,AAXA,4FAEA,wBAAA,CAEA,AAEA,+CAEA,wBAAA,CAEA,AAGA,sCAaA,eAAA,CAEA,CFvOK,AE4GL,0BAPA,gCAQA,iBAAA,CAkIA,AA7FA,yCAYA,cAAA,CAEA,CAlDA",file:"AuthorizationForm.vue",sourcesContent:['@import "./../variables.css";\r\n\r\n.button {\r\n  display: block;\r\n  padding: 10px 38px;\r\n  font-size: 14px;\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #ff5a19;\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n  -webkit-tap-highlight-color: rgba(200, 0, 0, 0);\r\n\r\n  &:focus {\r\n    background-color: var(--button-hover);\r\n    outline: none;\r\n  }\r\n\r\n  &:hover {\r\n    @media (--tablet) {\r\n      background-color: var(--button-hover);\r\n    }\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.5;\r\n  }\r\n}\r\n','@import "./../variables.css";\r\n\r\n.input {\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  padding: 10px 30px;\r\n  font-size: var(--font-size-sm);\r\n  font-family: var(--base-font-family);\r\n  color: #000000;\r\n  border: 1px solid #d5cec2;\r\n  border-radius: 3px;\r\n  box-shadow: none;\r\n  -webkit-tap-highlight-color: rgba(200, 0, 0, 0);\r\n  -webkit-appearance: none;\r\n\r\n  &:hover {\r\n    @media (--tablet) {\r\n      border-color: var(--brand-color-orange);\r\n    }\r\n  }\r\n\r\n  &:focus {\r\n    color: #000000;\r\n    border-color: var(--brand-color-orange);\r\n    outline: none;\r\n    opacity: 1;\r\n  }\r\n\r\n  &:focus::-webkit-input-placeholder {\r\n    color: transparent !important;\r\n  }\r\n\r\n  &:focus:-moz-placeholder {\r\n    color: transparent !important;\r\n  }\r\n\r\n  &:focus::-moz-placeholder {\r\n    color: transparent !important;\r\n  }\r\n\r\n  &:focus:-ms-input-placeholder {\r\n    color: transparent !important;\r\n  }\r\n\r\n  &::placeholder {\r\n    font-size: var(--font-size-sm);\r\n    font-family: var(--base-font-family);\r\n    color: #8e8d8d;\r\n    opacity: 1;\r\n  }\r\n\r\n  ::-ms-clear {\r\n    display: none;\r\n  }\r\n}\r\n','<template>\r\n  <div>\r\n    <form v-if="!codeSent" @submit.prevent="getCodeHandler" class="authorization__form">\r\n      <input-mask\r\n        ref="input"\r\n        v-model="phone"\r\n        class="authorization__input  authorization__input--tel  input"\r\n        placeholder="Введите номер телефона"\r\n      />\r\n      <p v-if="codeErrorCode">Ошибка</p>\r\n\r\n      <button ref="button" class="authorization__button  authorization__button--getpassword  button" type="submit">\r\n        <template v-if="codeLoading">Загрузка...</template>\r\n        <template v-else>Выслать код</template>\r\n      </button>\r\n\r\n    </form>\r\n\r\n    <form v-else @submit.prevent="loginHandler" class="authorization__form">\r\n      <input type="number"\r\n        class="authorization__input  authorization__input--password  input" id="password"\r\n        name="code"\r\n        autocomplete="off"\r\n        autofocus v-model="code"\r\n        placeholder="Введите SMS-код"\r\n      >\r\n      <p v-if="authErrorCode">Ошибка</p>\r\n      <p v-if="authEmployee">Вы являетесь сотрудником, перейдите в веб. версию Личного кабинета www.domovenok.su/private</p>\r\n\r\n      <button class="authorization__button  button" type="submit">\r\n        <template v-if="authLoading">Загрузка...</template>\r\n        <template v-else="">Отправить</template>\r\n      </button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { mapState, mapActions, mapMutations, mapGetters } from \'vuex\'\r\n  import api from \'vue_components/src/api\'\r\n  import { types } from \'@/store\'\r\n\r\n  import InputMask from \'@/components/common/InputMask\'\r\n  import Loader from \'@/components/common/Loader\'\r\n  import WorkerApplication from \'@/components/WorkerApplication\'\r\n\r\n  export default {\r\n    name: \'AuthorzationForm\',\r\n\r\n    components: {\r\n      Loader,\r\n      InputMask\r\n    },\r\n\r\n    data: () => ({\r\n      codeSent: false,\r\n      codeLoading: false,\r\n      codeErrorCode: null,\r\n      phone: process.env.NODE_ENV === \'development\' ? \'+7 (915) 493-49-99\' : \'\',\r\n      authLoading: false,\r\n      authErrorCode: \'\',\r\n      authEmployee: false,\r\n      code: process.env.NODE_ENV === \'development\' ? \'1111\' : \'\',\r\n    }),\r\n\r\n    methods: {\r\n      ...mapActions([\'signIn\', \'setCookies\', \'defineError\']),\r\n\r\n      async getCodeHandler() {\r\n        this.codeLoading = true\r\n\r\n        try {\r\n          const { result } = await api.auth.getCode(this.phone)\r\n\r\n          if (result) {\r\n            this.codeLoading = false\r\n            this.codeErrorCode = null\r\n            this.codeSent = true\r\n          } else {\r\n            this.codeLoading = false\r\n          }\r\n        } catch (error) {\r\n          this.codeLoading = false\r\n\r\n          this.defineError({\r\n            error: error,\r\n            name: \'getCode\'\r\n          })\r\n        }\r\n      },\r\n\r\n      async loginHandler() {\r\n        this.authLoading = true\r\n\r\n        try {\r\n          const { clientId, employeeId, cookies } = await api.auth.login(this.phone, this.code)\r\n\r\n          this.authLoading = false\r\n\r\n          if (clientId) {\r\n            this.signIn()\r\n            this.$emit(\'authFinish\')\r\n          }\r\n        } catch(error) {\r\n          this.authLoading = false\r\n          this.authErrorCode = true\r\n\r\n          this.defineError({\r\n            error: error,\r\n            name: \'login\'\r\n          })\r\n        }\r\n      },\r\n    }\r\n  }\r\n<\/script>\r\n\r\n<style scoped>\r\n  @import "../../css/variables.css";\r\n  @import "../../css/components/button.css";\r\n  @import "../../css/components/input.css";\r\n\r\n  .authorization {\r\n    padding-top: 90px;\r\n\r\n    @media (--tablet) {\r\n      padding-top: 110px;\r\n    }\r\n\r\n    @media (--desktop) {\r\n      padding-top: 150px;\r\n    }\r\n\r\n    &--hide {\r\n      display: none;\r\n    }\r\n\r\n    &__form {\r\n      box-sizing: border-box;\r\n      width: 100%;\r\n      max-width: 375px;\r\n      margin: auto;\r\n      padding: 30px;\r\n\r\n      @media (--tablet) {\r\n        width: 370px;\r\n      }\r\n    }\r\n\r\n    &__form {\r\n      display: flex;\r\n      flex-direction: column;\r\n    }\r\n\r\n    &__title {\r\n      position: absolute;\r\n      top: 10px;\r\n      right: 0;\r\n      width: 70%;\r\n      font-weight: bold;\r\n      font-size: 18px;\r\n\r\n      & span {\r\n        color: var(--new-text-color-orange);\r\n      }\r\n    }\r\n\r\n    &__heading {\r\n      margin-bottom: 0;\r\n      text-align: center;\r\n      font-size: 18px;\r\n      font-weight: 400;\r\n      color: #353535;\r\n\r\n      @media (--tablet) {\r\n        font-size: 21px;\r\n      }\r\n\r\n      @media (--desktop) {\r\n        font-size: 24px;\r\n      }\r\n    }\r\n\r\n    &__text {\r\n      position: absolute;\r\n      top: 40px;\r\n      right: 0;\r\n      width: 70%;\r\n      font-weight: bold;\r\n    }\r\n\r\n    &__input {\r\n      padding-top: 15px;\r\n      padding-bottom: 15px;\r\n      border-color: #cbc9c9;\r\n      text-align: center;\r\n      color: #353535;\r\n\r\n      &:focus {\r\n        border-color: #ff5a19;\r\n      }\r\n    }\r\n\r\n    &::placeholder {\r\n      color: #353535;\r\n    }\r\n\r\n    &__button {\r\n      width: 100%;\r\n      margin-top: 10px;\r\n      padding-top: 15px;\r\n      padding-bottom: 15px;\r\n      background-color: #ff5a19;\r\n\r\n      @media (--tablet) {\r\n        font-size: 16px;\r\n      }\r\n\r\n      &:hover {\r\n        @media (--tablet) {\r\n          background-color: #ff7623;\r\n        }\r\n      }\r\n\r\n      &:focus {\r\n        @media (--tablet) {\r\n          background-color: #ff7623;\r\n        }\r\n      }\r\n\r\n      &:active {\r\n        @media (--tablet) {\r\n          background-color: #ff5a19;\r\n        }\r\n      }\r\n    }\r\n\r\n    &__link {\r\n      position: fixed;\r\n      bottom: 30px;\r\n      width: 100%;\r\n      left: 0;\r\n      text-align: center;\r\n      font-size: 14px;\r\n      line-height: 19px;\r\n      text-decoration: underline;\r\n      color: #353535;\r\n      cursor: pointer;\r\n\r\n      @media (--tablet) {\r\n        margin-top: 40px;\r\n      }\r\n    }\r\n\r\n    &__note {\r\n      margin-top: 10px;\r\n      font-size: var(--font-size-xs);\r\n      text-align: center;\r\n      color: red;\r\n    }\r\n  }\r\n</style>\r\n'],sourceRoot:""}])},RACf:function(n,r,t){var e=t("NrH0");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);t("rjj0")("63231a40",e,!1)},WbWb:function(n,r,t){var e=t("PuQA");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);t("rjj0")("0f854b2c",e,!1)},pRBY:function(n,r,t){"use strict";function e(n){i||t("RACf")}var o=t("MUSu"),a=t("2/BM"),i=!1,A=t("VU/8"),p=e,s=A(o.a,a.a,!1,p,"data-v-7b6b2f24",null);s.options.__file="src\\components\\WorkerApplication\\index.vue",s.esModule&&Object.keys(s.esModule).some(function(n){return"default"!==n&&"__"!==n.substr(0,2)})&&console.error("named exports are not supported in *.vue files.");s.exports},wtL1:function(n,r,t){"use strict";var e=function(){var n=this,r=n.$createElement,t=n._self._c||r;return t("div",[n.codeSent?t("form",{staticClass:"authorization__form",on:{submit:function(r){r.preventDefault(),n.loginHandler(r)}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.code,expression:"code"}],staticClass:"authorization__input  authorization__input--password  input",attrs:{type:"number",id:"password",name:"code",autocomplete:"off",autofocus:"",placeholder:"Введите SMS-код"},domProps:{value:n.code},on:{input:function(r){r.target.composing||(n.code=r.target.value)}}}),n._v(" "),n.authErrorCode?t("p",[n._v("Ошибка")]):n._e(),n._v(" "),n.authEmployee?t("p",[n._v("Вы являетесь сотрудником, перейдите в веб. версию Личного кабинета www.domovenok.su/private")]):n._e(),n._v(" "),t("button",{staticClass:"authorization__button  button",attrs:{type:"submit"}},[n.authLoading?[n._v("Загрузка...")]:[n._v("Отправить")]],2)]):t("form",{staticClass:"authorization__form",on:{submit:function(r){r.preventDefault(),n.getCodeHandler(r)}}},[t("input-mask",{ref:"input",staticClass:"authorization__input  authorization__input--tel  input",attrs:{placeholder:"Введите номер телефона"},model:{value:n.phone,callback:function(r){n.phone=r},expression:"phone"}}),n._v(" "),n.codeErrorCode?t("p",[n._v("Ошибка")]):n._e(),n._v(" "),t("button",{ref:"button",staticClass:"authorization__button  authorization__button--getpassword  button",attrs:{type:"submit"}},[n.codeLoading?[n._v("Загрузка...")]:[n._v("Выслать код")]],2)],1)])},o=[];e._withStripped=!0;var a={render:e,staticRenderFns:o};r.a=a}});
//# sourceMappingURL=0.js.map